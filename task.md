# ‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô - ‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (Public CRUD Achievement System)
# ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠ sveltekit https://svelte.dev/llms-full.txt
## üéØ ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£

**‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£:** ‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏ö‡∏ö‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏®‡∏∂‡∏Å‡∏©‡∏≤  
**‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ:** SvelteKit + TailwindCSS + TypeScript + Firebase  
**‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏£‡∏∞‡∏ö‡∏ö:** Public CRUD (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£/‡∏Ñ‡∏£‡∏π/‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô

### üîë ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏Å
- ‚úÖ ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç/‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ
<!--
=================================================================================================
  ROADMAP VERSION 2 (REWRITTEN FOR CONSISTENCY, LINEAR FLOW & UX/UI COHERENCE)
  ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢: ‡∏•‡∏î‡∏Å‡∏≤‡∏£ "‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î" ‡∏á‡∏≤‡∏ô ‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏´‡∏•‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•
  ‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£: ‡∏ó‡∏≥‡πÄ‡∏õ‡πá‡∏ô LAYERS ‚Üí Foundation ‚Üí Domain ‚Üí Form System ‚Üí Listing/Search ‚Üí Detail/Evidence ‚Üí Analytics ‚Üí Ranking ‚Üí Security ‚Üí Performance ‚Üí Testing ‚Üí Docs/Deploy
  ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (Done / WIP / Todo) ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô + ‡∏£‡∏∞‡∏ö‡∏∏ Dependencies ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô
=================================================================================================
-->

# ‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô (v2) - ‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞
‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠ SvelteKit: https://svelte.dev/llms-full.txt

## 0. ‡∏™‡∏£‡∏∏‡∏õ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏£‡∏∞‡∏¢‡∏∞‡∏™‡∏±‡πâ‡∏ô
1. ‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£ (Stable CRUD + ‡∏ü‡∏≠‡∏£‡πå‡∏° 4 ‡πÅ‡∏ó‡πá‡∏ö UX ‡∏î‡∏µ)  
2. ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤/‡∏Å‡∏£‡∏≠‡∏á‡πÄ‡∏£‡πá‡∏ß + ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏â‡∏•‡∏≤‡∏î  
3. Hall of Fame ‡∏°‡∏µ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÉ‡∏™/‡∏õ‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ  
4. ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏ä‡∏¥‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå + Export  
5. ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏™‡πÅ‡∏õ‡∏° + ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ (Rules + Rate Limit + Duplicate)  
6. Performance (LQIP, Cache, Index)  
7. Testing + Docs ‡∏Å‡πà‡∏≠‡∏ô Production  

## 1. ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏°‡πà (Execution Streams)
| Stream | ‡∏ä‡∏∑‡πà‡∏≠ | ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ | ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ó‡∏≥ | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ |
|--------|-----|----------|---------|--------|
| S1 | Foundation & Environment | ‡πÇ‡∏Ñ‡∏£‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ + Fonts + Rules ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô | 1 | Done |
| S2 | Domain & Data Model | Entities / Value Objects / Repos | 2 | Done (‡∏ö‡∏≤‡∏á VO ‡∏£‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°) |
| S3 | Form System (4 Tabs) | ‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢ + Validation Layer ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß | 3 | Done (refined: progress + unsaved guard) |
| S4 | Listing & Search Core | /achievements + basic searchMetadata | 4 | Done (Ranking Improve ‡∏ï‡πà‡∏≠) |
| S5 | Detail & Evidence | ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• + ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î/‡∏•‡∏ö/rollback | 5 | Done |
| S6 | Analytics & Reports | Charts + Matrix + Export | 6 | Partial (Deep matrix ok) |
| S7 | Hall of Fame & Ranking | Scoring + Owner aggregation + Filters | 7 | Partial (Advanced signals later) |
| S8 | Security & Anti-Abuse | Rules Harden + Rate Limit + Duplicate | 8 | In Progress |
| S9 | Performance & UX Polish | LQIP + Cache + Split + Headers | 9 | In Progress |
| S10 | Testing & QA | Unit / Integration / Rules / UI | 10 | Early (basic tests) |
| S11 | Documentation & Deployment | Dev/User Docs + Prod config | 11 | In Progress |

## 2. ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô UI & UX ‡∏Å‡∏•‡∏≤‡∏á (Design Tokens & Patterns)
‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡∏´‡∏ô‡πâ‡∏≤ (‡∏•‡∏î rework)

### 2.1 Design Tokens
| Token | ‡∏Ñ‡πà‡∏≤ / ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á |
|-------|--------------|
| Colors (semantic) | primary=#2563eb, primary-hover=#1d4ed8, danger=#dc2626, warning=#d97706, success=#059669, surface=#ffffff, bg-muted=#f8fafc, border=#e2e8f0 |
| Radius | sm=4px, md=8px, lg=16px |
| Spacing Scale | 4,8,12,16,20,24,32,40 (‡∏Ñ‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏±‡πâ‡∏á layout + form) |
| Shadow levels | xs=none, sm=0 1px 2px rgba(0,0,0,.06), md=0 2px 6px rgba(0,0,0,.08), focus=outline 2px solid theme(primary) |
| Typography | Body: Sarabun 400; Heading: Mitr 500/600; Code: JetBrains Mono |
| Font Sizes TH | xs 12, sm 14, base 16, lg 18, xl 20, 2xl 24 (line-height ‚â•1.55) |

### 2.2 Components (Standard Props & Variants)
| Component | Variants | Props ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç | Note |
|-----------|----------|-------------|------|
| Button | primary / secondary / ghost / danger | size (sm,md,lg) / loading / icon | Loading ‡πÉ‡∏ä‡πâ spinner ‡∏Ç‡∏ô‡∏≤‡∏î 16px |
| Input/Textarea | default | error / helper / maxLength | ‡πÅ‡∏™‡∏î‡∏á counter ‡πÄ‡∏°‡∏∑‡πà‡∏≠ >80% limit |
| Select | default | options[] / searchable? (later) | ‡πÉ‡∏ä‡πâ slot ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö label |
| Tabs | underline / segmented | activeIndex | ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô Form 4 ‡πÅ‡∏ó‡πá‡∏ö |
| Card | basic / interactive | hover / clickable | ‡πÉ‡∏ä‡πâ AchievementCard |
| Modal/Dialog | center | size (sm,md,lg) | ‡∏õ‡∏∏‡πà‡∏°‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô=primary, ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å=ghost |
| Skeleton | line / card / thumbnail | pulse boolean | ‡πÉ‡∏ä‡πâ preload list & gallery |
| Toast | info / success / error | autoClose ms | Queue max 3 |

### 2.3 Interaction & Accessibility
1. Focus Visible: ‡∏™‡∏µ‡πÄ‡∏™‡πâ‡∏ô‡∏Ç‡∏≠‡∏ö primary 2px (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ box-shadow ‡∏´‡∏ô‡∏≤)  
2. ‡∏Å‡∏î Enter ‡πÉ‡∏ô‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÑ‡∏°‡πà‡∏Ç‡πâ‡∏≤‡∏°‡πÅ‡∏ó‡πá‡∏ö (‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏õ‡∏∏‡πà‡∏° explicit)  
3. ‡∏õ‡∏∏‡πà‡∏°‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö drag + keyboard (aria-describedby ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÑ‡∏ü‡∏•‡πå)  
4. ‡πÉ‡∏ä‡πâ aria-live="polite" ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Toast success / error  
5. ‡∏™‡∏µ Contrast ‚â• 4.5:1 ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ö‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏õ‡∏∏‡πà‡∏°  

### 2.4 Layout & Navigation
| ‡∏´‡∏ô‡πâ‡∏≤ | ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏±‡∏ß | Secondary Actions | State Loading | Empty State |
|------|------------------|-------------------|--------------|-------------|
| Home | Hero + Stats + Latest | View All (Achievements) | Skeleton stats | "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î" |
| Achievements | Title + Filters bar (sticky) | New Achievement | Skeleton list (cards) | CTA ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡πÅ‡∏£‡∏Å |
| New/Edit Form | Title + Step indicator (Tabs) | Cancel (‡∏Å‡∏•‡∏±‡∏ö listing) | Inline field skeleton | Draft guidance block |
| Detail | Breadcrumb + Title + owner chip | Edit / Delete / Share | Card skeleton | Not Found message |
| Reports | Title + Year filter + Export group | CSV / PDF / Print | Chart skeleton shimmer | "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏µ‡∏ô‡∏µ‡πâ" |
| Hall of Fame | Title + Filter row + Weight slider | Reset filters | Card skeleton | "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏à‡∏±‡∏î‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö" |

## 3. ‡∏ü‡∏≠‡∏£‡πå‡∏° 4 ‡πÅ‡∏ó‡πá‡∏ö (Focus Stream S3)
‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢: ‡∏•‡∏î Cognitive Load, ‡πÑ‡∏°‡πà‡∏¢‡∏≤‡∏ß‡πÄ‡∏Å‡∏¥‡∏ô, ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏à‡∏≥‡πÑ‡∏î‡πâ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏™‡∏•‡∏±‡∏ö, Validation real-time

| ‡πÅ‡∏ó‡πá‡∏ö | ‡∏ä‡∏∑‡πà‡∏≠ | ‡∏ü‡∏¥‡∏•‡∏î‡πå | Validation | ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ |
|------|------|-------|------------|----------|
| 1 | ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ | role, ownerName, category(type), title, description | required + length + title duplicate (async) | title normalize ‡πÄ‡∏Å‡πá‡∏ö normalizedTitle |
| 2 | ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà | orgLevel, orgNames[] | required orgLevel, orgNames length ‚â§5 | orgNames autocomplete (later) |
| 3 | ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ | startDate, endDate?, academicYear, term? | date range valid, start <= end, year derive | academicYear derive + persist |
| 4 | ‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô | files[] (image/pdf), remove each, reorder? (later) | size ‚â§5MB, mime allowlist | blurDataUrl ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏á upload |

### 3.1 ‡∏ü‡∏≠‡∏£‡πå‡∏° Workflow
1. Local draft state (store)  
2. Autosave (optional future) ‚Äì ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠ Submit  
3. ‡πÄ‡∏°‡∏∑‡πà‡∏≠ Submit: Validate ‚Üí Upload Evidence (parallel) ‚Üí Create Firestore Doc ‚Üí Create searchMetadata ‚Üí Audit Log ‚Üí Update UI cache  
4. Rollback: ‡∏´‡∏≤‡∏Å Firestore ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß ‡∏•‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡πâ‡∏ß  

### 3.2 Validation Layer
| ‡∏£‡∏∞‡∏î‡∏±‡∏ö | ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á | ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á |
|-------|---------|----------|
| Synchronous | Value Object (Title, RoleType) | throw Error ‡∏´‡∏≤‡∏Å‡∏ú‡∏¥‡∏î | 
| Cross-field | usecase/service | start <= end | 
| Async External | Duplicate title check | query normalizedTitle 24h | 
| Security Rules | Firestore | schema, field whitelist | 

## 4. ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (Execution Order Detailed)
‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏Ç‡πâ‡∏≤‡∏° stream ‡πÇ‡∏î‡∏¢‡πÄ‡∏õ‡∏¥‡∏î WIP ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 2 streams ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô

1. S1 Foundation (DONE)  
2. S2 Domain Model (DONE partial VO refine later)  
3. S3 Form 4 Tabs (DONE ‚Äì ‡πÄ‡∏û‡∏¥‡πà‡∏° UX polish: progress indicator % ‡πÅ‡∏•‡∏∞ warn unsaved)  
4. S4 Listing & Search (DONE ‚Äì ‡∏ï‡πà‡∏≠‡∏¢‡∏≠‡∏î Ranking)  
5. S5 Detail & Evidence (DONE)  
6. S8 Security & Anti-Abuse (Harden + Spam heuristics)  
7. S7 Hall of Fame Advance (‡∏´‡∏•‡∏±‡∏á Security)  
8. S6 Analytics Extend (orgLevel dimension)  
9. S9 Performance (Code Split + Lighthouse)  
10. S10 Testing Expansion  
11. S11 Documentation Final + Deployment  

## 5. ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô (Snapshot)
| ‡∏´‡∏°‡∏ß‡∏î | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ | ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ |
|-------|-------|----------|
| CRUD & Upload | Done | ‡∏°‡∏µ rollback orphan file |
| Form UX 4 Tabs | Done (Refine) | ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° unsaved warning + keyboard trap fix |
| searchMetadata | Done | Ranking heuristic basic + decay |
| Duplicate Detection | Done | 24h window normalizedTitle |
| Hall of Fame | Partial | Filters + ownerWeight slider OK; advanced signals pending |
| Reports | Partial | Deep matrix role√ótype√óacademicYear OK; org level dimension pending |
| LQIP / Images | Done | blurDataUrl + IntersectionObserver |
| Rate Limiting | Done (basic + sliding) | Frequency heuristics next |
| Firestore Rules | Hardened | searchMetadata restricted + CSP report collection |
| CSP Headers | Report + Enforced | Need audit inline styles before strict nonce |
| Tests | Early | value objects + lqip + rate/hof basic |
| Docs | Partial | Need architecture + rules rationale write-up |

## 6. ‡∏á‡∏≤‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ (Backlog ‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏° + ‡πÑ‡∏°‡πà‡∏Ç‡πâ‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö)
### 6.1 Refinements (Short)
- [x] ‡πÄ‡∏û‡∏¥‡πà‡∏° unsaved-change guard ‡πÉ‡∏ô‡∏ü‡∏≠‡∏£‡πå‡∏° (beforeNavigate)  
- [x] ‡πÅ‡∏™‡∏î‡∏á Step progress (‡πÄ‡∏ä‡πà‡∏ô 3/4) ‡πÉ‡∏ô‡∏´‡∏±‡∏ß‡∏ü‡∏≠‡∏£‡πå‡∏°  
- [x] Unified error message mapping (‡πÑ‡∏ó‡∏¢‡∏™‡∏±‡πâ‡∏ô/‡∏ä‡∏±‡∏î)  
- [x] HoF score explain panel: ‡πÄ‡∏û‡∏¥‡πà‡∏° dialog a11y (role=dialog, Escape close)  
- [x] HoF explain modal backdrop: role=button + keyboard handlers (Enter/Space/Escape)  
  - refined: switched backdrop to semantic <button> to clear Svelte a11y warnings (click + Escape)  
  - refined: removed click handler from non-interactive dialog container; separate backdrop button + focus management + Escape on wrapper  
  - refined: removed keydown listener from non-interactive div; added global Escape handler with lifecycle cleanup (clears final a11y warning)  

### 6.2 Security & Anti-Abuse (Active Stream)
- [x] Frequency heuristic: ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á (N ‡∏ï‡πà‡∏≠ IP / 15 ‡∏ô‡∏≤‡∏ó‡∏µ)  
- [x] Forbidden terms list (‡∏Ñ‡∏≥‡∏´‡∏¢‡∏≤‡∏ö baseline)  
- [x] Content similarity (Levenshtein >80% ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤)  
- [x] Actor enrichment: hash(IP+UA) ‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô achievement doc  

### 6.3 Hall of Fame Advanced
- [x] Semantic tags (tokenization + Thai segmentation ‚Äì basic tokenizer implemented)  
- [x] Engagement placeholder fields (views, likes default 0)  
- [x] Score explain panel (‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô modal)  

### 6.4 Reports Extension
- [x] ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏°‡∏¥‡∏ï‡∏¥ orgLevel ‡πÉ‡∏ô matrix + filter  
- [x] Year-over-year growth chart  
- [x] Export CSV ‡πÇ‡∏´‡∏°‡∏î wide matrix  

### 6.5 Search Improvement
- [x] Partial term boosting (prefix multi token)  
- [x] Owner/issuer weight tuner UI (advanced)  
- [x] Filter specification pattern (encapsulated object)  
- [x] Debounce + cancel stale queries  

### 6.6 Performance & Delivery
- [x] Dynamic import reports & hof modules  
- [x] Bundle size budget (warn > X KB)  
- [x] Preload critical fonts subset (latin+thai)  
- [x] Add serverTimestamp createdAtTs (decision) + index  

### 6.7 Testing Expansion
- [x] Firestore emulator rules tests (create/update/delete)  
- [x] Search ranking unit tests (weight changes)  
- [x] Hall of Fame score explanation tests  
- [x] Form e2e (tab navigation + validation states)  
- [x] Image pipeline test (blur fallback)

### 6.8 Documentation
- [x] Architecture diagram (C4 level 2 + data flow)  
- [x] Firestore rules rationale (field whitelist table)  
- [x] Scoring formulas (Search + Hall of Fame)  
- [x] Deployment checklist (indexes, headers, rules, env)  
- [x] User guide (‡πÄ‡∏û‡∏¥‡πà‡∏°/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç/‡∏•‡∏ö + ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô)  

## 7. Acceptance Criteria (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÑ‡∏°‡πà‡∏´‡∏•‡∏∏‡∏î Scope)
| Feature | Criteria |
|---------|----------|
| Form 4 Tabs | ‡∏™‡∏•‡∏±‡∏ö‡πÅ‡∏ó‡πá‡∏ö‡πÑ‡∏°‡πà‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤, error ‡∏ï‡πà‡∏≠ field, duplicate title ‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏†‡∏≤‡∏¢‡πÉ‡∏ô ‚â§600ms |
| Upload & Rollback | ‡∏´‡∏≤‡∏Å firestore create fail ‚Üí ‡∏•‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î |
| Search | Query ‚â§ 300ms (cache hit ‚â§50ms) ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å, relevance ‡πÅ‡∏™‡∏î‡∏á term highlight (later) |
| Hall of Fame | ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô ownerWeight ‡πÅ‡∏•‡πâ‡∏ß ranking re-render ‚â§150ms (50 items) |
| Reports | Export CSV ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ 2s (‚â§1k records) |
| Rate Limit | ‡πÄ‡∏Å‡∏¥‡∏ô quota ‚Üí ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏ó‡∏∏‡∏Å endpoint |
| LQIP | ‡∏†‡∏≤‡∏û full ‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡πâ‡∏ß blur transition ‚â§300ms fade |
| Security | Rules deny field ‡∏ô‡∏≠‡∏Å schema 100% test pass |
| Docs | Dev ‡πÉ‡∏´‡∏°‡πà‡∏≠‡πà‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß setup ‚â§30 ‡∏ô‡∏≤‡∏ó‡∏µ |

## 8. Risk & Mitigation (‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡πÉ‡∏´‡∏°‡πà)
| ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á | ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö | ‡∏ö‡∏£‡∏£‡πÄ‡∏ó‡∏≤ |
|------------|----------|---------|
| Abuse flood (burst) | ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢/Spam | Sliding window + frequency heuristic |
| Ranking gaming (‡∏ã‡πâ‡∏≥‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢) | ‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û HoF | Similarity detection + diminishing returns (‡∏°‡∏µ‡πÅ‡∏•‡πâ‡∏ß) |
| ‡∏†‡∏≤‡∏û‡πÉ‡∏´‡∏ç‡πà/‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å | UX ‡∏ä‡πâ‡∏≤ | Client resize + blur + lazy + limit evidence count (soft warn >8) |
| Query cost searchMetadata | ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢ | ‡∏à‡∏≥‡∏Å‡∏±‡∏î fields + selective indexing |
| Rules drift | ‡∏ä‡πà‡∏≠‡∏á‡πÇ‡∏´‡∏ß‡πà | Emulator CI test rules |

## 9. Implementation Guidelines (Do & Don't)
Do: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏¥‡∏•‡∏î‡πå‡πÉ‡∏´‡∏°‡πà ‚Üí ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ allow ‡πÉ‡∏ô Rules, TypeScript types, searchMetadata mapping  
Do: ‡πÉ‡∏ä‡πâ helper normalizer ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô (title ‚Üí normalizedTitle)  
Do: ‡πÅ‡∏Å‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô ‚Üí ‡πÉ‡∏™‡πà comment ‡∏™‡∏π‡∏ï‡∏£ + ‡∏õ‡∏£‡∏±‡∏ö unit tests  
Don't: ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å Firestore ‡∏ã‡πâ‡∏≥‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡∏´‡∏≤‡∏Å cache ‡∏¢‡∏±‡∏á valid  
Don't: Inject UI logic ‡πÉ‡∏ô repository (‡πÅ‡∏¢‡∏Å concern)  

## 10. Definition of Done (‡∏¢‡πà‡∏≠‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡∏°‡πà)
1. Code: Type-safe + ‡πÑ‡∏°‡πà‡∏°‡∏µ unused export ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç  
2. Tests: ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç (score, validation, rules) ‡∏ú‡πà‡∏≤‡∏ô  
3. Security: Rules + rate limit path ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°  
4. Performance: LCP < 2.5s (sample dev) ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å  
5. Docs: README + architecture + scoring + deployment  
6. UX: Consistent components + states (loading/empty/error)  

## 11. Update Log (‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î 2025-08-24)
‡∏™‡∏£‡∏∏‡∏õ (‡∏ï‡πà‡∏≠‡∏à‡∏≤‡∏Å‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏Å‡πà‡∏≠‡∏ô): Harden rules, duplicate detection, search decay, CSP report ‡πÇ‡∏Ñ‡∏£‡∏á, LQIP, HoF filters + ownerWeight, deep matrix reports, sliding + token rate limit, density scoring, vitest setup.  
‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô v2: ‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏° Streams, UI tokens, Form 4 Tabs spec, Backlog ‡∏à‡∏±‡∏î‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö, Acceptance Criteria ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô, Risk table ‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡∏°‡πà

## 12. Next Immediate Focus (Lock WIP = 2)
Active: (1) Security & Anti-Abuse heuristics, (2) Form UX refine (unsaved guard)  
Queue ‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à: Hall of Fame advanced signals ‚Üí Reports orgLevel ‚Üí Performance code split ‚Üí Emulator rules tests ‚Üí Docs expansion  

---
‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô Roadmap ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô (‡∏á‡∏î‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ roadmap ‡∏ã‡πâ‡∏≥). ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏ú‡πà‡∏≤‡∏ô‡∏™‡πà‡∏ß‡∏ô "Next Immediate Focus" ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á context jump.

.text-2xl-th { font-size: 1.5rem; line-height: 1.5; }

/* Tablet & Desktop */
@media (min-width: 768px) {
  .text-base-th { font-size: 1.125rem; line-height: 1.7; }
  .text-lg-th { font-size: 1.25rem; line-height: 1.6; }
}
```

### Accessibility for Thai Text
- **Minimum font size**: 16px ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö body text ‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠
- **Line height**: ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1.6 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢
- **Contrast ratio**: ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 4.5:1 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö normal text
- **Word spacing**: ‡πÄ‡∏û‡∏¥‡πà‡∏° letter-spacing ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö headings

## üìù ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏

- ‡πÅ‡∏ú‡∏ô‡∏ô‡∏µ‡πâ‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ
- ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥ Phase 2-3 ‡πÅ‡∏ö‡∏ö parallel ‡πÑ‡∏î‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤
- ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏ó‡∏≥ Demo ‡∏ó‡∏∏‡∏Å‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠ feedback ‡πÄ‡∏£‡πá‡∏ß
- ‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ‡∏Å‡∏≤‡∏£ backup ‡πÅ‡∏•‡∏∞ version control ‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏ß‡∏•‡∏≤
- **Domain-Driven Design**: ‡πÄ‡∏ô‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏¢‡∏Å business logic ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å infrastructure
- **Thai Typography**: ‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡πÑ‡∏ó‡∏¢‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°
- **Responsive Design**: ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ö‡∏ô‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏î‡πâ‡∏ß‡∏¢‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡πÑ‡∏ó‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°

---

*‡πÅ‡∏ú‡∏ô‡∏ô‡∏µ‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå context-based prompt ‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡∏°‡∏≤ ‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏ä‡πâ Domain-Driven Design architecture ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡πÑ‡∏ó‡∏¢‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏£‡∏¥‡∏á*

---

## üé® Theme & Styling Summary (‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô)

### 1. Color Palette (Success Gradient)
‡πÉ‡∏ä‡πâ‡πÇ‡∏ó‡∏ô ‚Äú‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‚Äù ‡πÑ‡∏•‡πà‡∏£‡∏∞‡∏î‡∏±‡∏ö: `#16a34a (green)` ‚Üí `#22c55e (emerald)` ‚Üí `#facc15 (gold)` ‚Üí `#f59e0b (amber)` ‚Üí `#f97316 (orange)`

‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ:
- Hero / Section highlight: `.hero-gradient`
- ‡∏õ‡∏∏‡πà‡∏°‡∏´‡∏•‡∏±‡∏Å: `.btn-primary` (linear-gradient 90deg ‡πÄ‡∏â‡∏î‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏ä‡∏∏‡∏î‡∏ô‡∏µ‡πâ)
- ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏ô‡πâ‡∏ô: `.bg-success-gradient`
- ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ô‡πâ‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©: `.text-success-gradient` (gradient clip)
- Active navigation: `.nav-link-active` ‡πÉ‡∏ä‡πâ gradient ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏°‡∏´‡∏•‡∏±‡∏Å

‡πÑ‡∏î‡πâ‡∏ñ‡∏≠‡∏î‡∏ñ‡∏≠‡∏ô palette ‡πÄ‡∏î‡∏¥‡∏° (‡πÇ‡∏ó‡∏ô‡∏ü‡πâ‡∏≤ / blue primary) ‡πÅ‡∏•‡πâ‡∏ß ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠ ‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏° utility ‡∏™‡∏µ‡∏ä‡∏∏‡∏î‡πÄ‡∏Å‡πà‡∏≤‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡πÉ‡∏´‡∏°‡πà

### 2. Typography
- ‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡∏´‡∏•‡∏±‡∏Å: Sarabun (‡∏ó‡∏±‡πà‡∏ß‡∏ó‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏ö‡∏ö) ‚Äì ‡πÇ‡∏´‡∏•‡∏î‡∏ú‡πà‡∏≤‡∏ô `<link>` ‡πÉ‡∏ô `app.html`
- (‡πÅ‡∏ú‡∏ô) ‡∏ü‡∏≠‡∏ô‡∏ï‡πå Mitr ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö heading / highlight ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á (‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πà‡∏ß‡∏£‡∏∞‡∏ö‡∏ö)
- Line-height ‡πÅ‡∏•‡∏∞‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏≤‡∏°‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á ‚ÄúThai Typography Guidelines‚Äù ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô

### 3. Components & Utility Classes
| ‡∏´‡∏°‡∏ß‡∏î | ‡∏Ñ‡∏•‡∏≤‡∏™ / ‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö | ‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó |
|------|--------------------|--------|
| Hero | `.hero-gradient` | ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á gradient ‡∏´‡∏•‡∏±‡∏Å ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏µ‡∏î‡∏≥ (#000) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏±‡∏ö contrast (‡πÄ‡∏î‡∏¥‡∏° #fff) |
| ‡∏õ‡∏∏‡πà‡∏° | `.btn-primary`, `.btn-secondary`, `.btn-danger` | Variants: gradient / gray / red |
| ‡πÄ‡∏ô‡πâ‡∏ô BG | `.bg-success-gradient` | ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á section / card highlight |
| ‡πÄ‡∏ô‡πâ‡∏ô Text | `.text-success-gradient` | ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° gradient (‡πÉ‡∏ä‡πâ background-clip) |
| ‡∏ô‡∏≥‡∏ó‡∏≤‡∏á | `.nav-link`, `.nav-link-active` | ‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÄ‡∏°‡∏ô‡∏π + ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (active = gradient + shadow) |
| ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡πá‡∏Å‡∏ï‡πå | `.animate-fade`, `.backdrop-blur-sm|md` | Animation + glass effect |

### 4. Accessibility & Contrast
- ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏ô hero ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡∏î‡∏≥ (#000) ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ä‡πà‡∏ß‡∏á‡∏Å‡∏•‡∏≤‡∏á‡∏Ç‡∏≠‡∏á gradient (gold/amber) ‡∏™‡∏ß‡πà‡∏≤‡∏á ‚Üí ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß contrast ‡∏ï‡πà‡∏≥
- ‡∏õ‡∏∏‡πà‡∏° gradient ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß (#fff) ‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö contrast ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏â‡∏î‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß/‡∏™‡πâ‡∏°‡πÄ‡∏Ç‡πâ‡∏° ‚â• WCAG AA ‡πÇ‡∏î‡∏¢‡∏Ñ‡∏£‡πà‡∏≤‡∏ß
- ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: ‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á gradient ‡∏≠‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏ä‡∏±‡πâ‡∏ô overlay (‡πÄ‡∏ä‡πà‡∏ô `bg-white/70` + `backdrop-blur-sm`) ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏™‡∏µ `#1f2937` (gray-800)

### 5. Naming & Conventions
- ‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á hardcode ‡∏™‡∏µ‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô component ‡∏ñ‡πâ‡∏≤ utility/class ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡πÉ‡∏ä‡πâ `.bg-success-gradient`, `.btn-primary`, `.nav-link-active`
- ‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏â‡∏î‡πÉ‡∏´‡∏°‡πà ‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô Tailwind config (extend.colors) ‡∏Å‡πà‡∏≠‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô

### 6. Planned Enhancements (‡∏ñ‡∏±‡∏î‡πÑ‡∏õ)
1. Outline / subtle button variant (‡∏•‡∏î visual weight ‡πÉ‡∏ô secondary actions)
2. Dark mode (invert palette: ‡πÉ‡∏ä‡πâ emerald/gold ‡πÄ‡∏õ‡πá‡∏ô accent ‡∏ö‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á neutral 900)
3. Skeleton loaders (‡πÉ‡∏ä‡πâ shimmer gradient ‡∏≠‡πà‡∏≠‡∏ô‡πÄ‡∏ó‡∏≤ + ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏´‡∏°‡πà‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢)
4. Multi-file gallery: ‡πÉ‡∏ä‡πâ background neutral + border gradient ‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô (1px) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö highlight ‡πÑ‡∏ü‡∏•‡πå‡∏û‡∏¥‡πÄ‡∏®‡∏©
5. Theming tokenization (‡πÅ‡∏¢‡∏Å CSS variables: `--color-success-1..5`) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏•‡∏±‡∏ö‡∏ò‡∏µ‡∏°‡πÄ‡∏£‡πá‡∏ß

### 7. Quick Reference
```
Gradient stops: 0% #16a34a | 30% #22c55e | 55% #facc15 | 75% #f59e0b | 100% #f97316
Primary button gradient: 90deg (#16a34a ‚Üí #22c55e ‚Üí #f59e0b)
Hero text color: #000 (updated for contrast)
```

> ‡∏™‡∏£‡∏∏‡∏õ: ‡∏ò‡∏µ‡∏°‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÄ‡∏ô‡πâ‡∏ô‡∏≠‡∏±‡∏ï‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå ‚Äú‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à / ‡∏Å‡πâ‡∏≤‡∏ß‡∏´‡∏ô‡πâ‡∏≤‚Äù ‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏â‡∏î‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏ñ‡∏∂‡∏á‡∏ó‡∏≠‡∏á‡∏™‡πâ‡∏° ‡πÑ‡∏•‡πà‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏û‡∏•‡∏±‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ü‡∏≠‡∏ô‡∏ï‡πå Sarabun ‡∏ó‡∏µ‡πà‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡πÉ‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢ ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ã‡∏õ‡∏ï‡πå utility-first ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠‡πÅ‡∏•‡∏∞‡∏Ç‡∏¢‡∏≤‡∏¢‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢

---

## üîê CI/CD & Secrets Status (‡πÉ‡∏´‡∏°‡πà)

‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°: Workflows (`.github/workflows/deploy.yml`, `.github/workflows/rules-only.yml`) ‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ deploy ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ secrets ‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ‡πÉ‡∏ô GitHub Repository Settings ‚Üí Secrets ‚Üí Actions:

| Secret | ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î | ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö |
|--------|-------------|--------|
| FIREBASE_SERVICE_ACCOUNT | Service Account JSON ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå deploy Hosting + Rules | JSON ‡∏ó‡∏±‡πâ‡∏á‡∏Å‡πâ‡∏≠‡∏ô (stringify) |
| FIREBASE_PROJECT_ID | Project ID ‡∏Ç‡∏≠‡∏á Firebase | ‡πÄ‡∏ä‡πà‡∏ô `certificate-xxxx` |

‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏á Service Account JSON ‡πÄ‡∏õ‡πá‡∏ô secret:
1. ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå service account (Role: Firebase Admin / Editor ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠)
2. ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏•‡πâ‡∏ß copy ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ JSON ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡πÉ‡∏™‡πà‡∏•‡∏á secret `FIREBASE_SERVICE_ACCOUNT`
3. ‡πÉ‡∏™‡πà‡∏Ñ‡πà‡∏≤ project id ‡∏•‡∏á `FIREBASE_PROJECT_ID`

‡∏´‡∏•‡∏±‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ trigger ‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢ push ‡πÑ‡∏õ‡∏ó‡∏µ‡πà branch `main` (deploy.yml) ‡∏´‡∏£‡∏∑‡∏≠ manual dispatch ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö rules (`Rules Deploy`).

‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÄ‡∏ó‡∏™ workflow ‡πÉ‡∏ô‡πÇ‡∏•‡∏Ñ‡∏±‡∏• (‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å) ‚Äì ‡πÉ‡∏ä‡πâ `act` (‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô) ‡πÅ‡∏ï‡πà optional.

---

## üõ°Ô∏è CSP Plan (Draft Pending)

‡∏à‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏° CSP ‡∏´‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡∏Å‡∏≤‡∏£ break UI.

‡∏£‡πà‡∏≤‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô (‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÉ‡∏™‡πà):
```
Content-Security-Policy: default-src 'self';
  script-src 'self';
  style-src 'self' 'unsafe-inline';
  img-src 'self' data: https:; font-src 'self' data:; connect-src 'self' https://firestore.googleapis.com https://firebasestorage.googleapis.com; object-src 'none'; frame-ancestors 'none'; base-uri 'self';
```
‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ:
1. ‡πÄ‡∏õ‡∏¥‡∏î Report-Only ‡∏ú‡πà‡∏≤‡∏ô header: `Content-Security-Policy-Report-Only`
2. ‡πÄ‡∏Å‡πá‡∏ö violations (‡πÄ‡∏û‡∏¥‡πà‡∏° endpoint ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ report-uri service ‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å)
3. ‡∏õ‡∏£‡∏±‡∏ö whitelist ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢ switch ‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏à‡∏£‡∏¥‡∏á

---